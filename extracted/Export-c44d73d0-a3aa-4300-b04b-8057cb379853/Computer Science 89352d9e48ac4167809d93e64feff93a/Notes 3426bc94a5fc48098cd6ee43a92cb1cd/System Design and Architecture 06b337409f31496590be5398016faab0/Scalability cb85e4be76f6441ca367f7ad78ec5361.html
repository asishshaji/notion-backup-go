<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Scalability</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="cb85e4be-76f6-441c-a367-f7ad78ec5361" class="page mono"><header><h1 class="page-title">Scalability</h1><p class="page-description"></p></header><div class="page-body"><p id="718bc6f5-f1ad-483c-94c1-d3266374f042" class=""><strong>Performance</strong>: a measure of the latency and throughput of a system. Low latency and high throughput. FIXED LOAD</p><p id="8461d5af-f6bd-417f-b383-11fd21f80a7b" class="">In <strong>scalability</strong>, we discuss how to increase the system&#x27;s throughput. VARIABLE LOAD</p><p id="cdc3a686-93a0-4110-999e-515c4abea3e8" class="">The ability of a system to increase its throughput by adding more hardware capacity.</p><p id="feb92906-429a-44ec-8cf4-e4e1d776c635" class="">
</p><p id="5e7fadeb-642e-44f9-bc69-73c716f02cae" class="">Vertical scaling: increase the h/w resources of a system. It is easier to achieve, but limited scalability.</p><figure id="3f4be69c-29bb-4382-babf-5c7be0fa4684" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled.png"><img style="width:288px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled.png"/></a></figure><p id="4a572a22-eb64-4551-8dff-c3806936141c" class="">Horizontal scaling: increase the instances of the application. It’s hard to orchestrate. The number of cases limits your scalability.</p><figure id="762e9030-e3ac-45c3-b95c-9d1f154bc550" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%201.png"><img style="width:288px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%201.png"/></a></figure><p id="33ce797b-b475-4b22-8572-65ff289af1e5" class="">It’s easier to scale down as well.</p><p id="a30758f6-8b69-4b16-a9c9-9c540d4c3a66" class="">
</p><h2 id="939e36fe-bbb8-4105-8794-4e3026713a26" class="">Reverse Proxy</h2><figure id="bd272dbd-93cc-4a9e-a764-91e16804198a" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%202.png"><img style="width:672px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%202.png"/></a></figure><p id="cd0422ce-ca6b-40a1-a08d-50ecf9158d80" class="">In the first figure, the client needs to remember all the IP addresses of the servers. But it’s not practical. So we add a reverse proxy. The client needs to know only the address of the reverse proxy. Reverse Proxy can also act as a load balancer. </p><p id="a15e46b1-c5d3-44f6-b47c-c303d1c31f33" class="">
</p><hr id="8ed4ad10-678d-4fe6-a8e9-db8af0478b44"/><p id="c615423d-7d63-409e-94ae-131998c1198f" class="">
</p><figure id="15a2c5fe-f69d-4254-8278-f270cc408b85" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%203.png"><img style="width:576px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%203.png"/></a><figcaption>System for scalability discussion</figcaption></figure><h2 id="f4689a57-b6e2-44c4-90f0-a2ce9693eaf5" class="">Scalability Principles</h2><ul id="b5717ad6-2557-43aa-b1bd-310db7316fc5" class="bulleted-list"><li style="list-style-type:disc">Decentralization - Monolith is an antipattern for scalability.<ul id="f7d251c8-56d3-48ba-b5d7-bacc33e2f6e5" class="bulleted-list"><li style="list-style-type:circle">you increase your workforce essentially, instead of upskilling your only employee.</li></ul><ul id="2930d7b1-b99a-409a-b34d-f617387ea273" class="bulleted-list"><li style="list-style-type:circle">More workers - Instances, thread</li></ul><ul id="f87df20c-ff34-4b63-ba10-fa9812dd458f" class="bulleted-list"><li style="list-style-type:circle">Specialised workers - Services</li></ul></li></ul><ul id="c58baecc-f5fe-48a8-a232-a6c738c44bac" class="bulleted-list"><li style="list-style-type:disc">Independence - Multiple workers are as good as a single worker if they can’t work independently.<ul id="895d6ea5-5a96-43da-924a-1731e9bb86e4" class="bulleted-list"><li style="list-style-type:circle">They must work concurrently to the maximum extent</li></ul><ul id="a9f49c17-132c-474d-ba4d-dc3976e42467" class="bulleted-list"><li style="list-style-type:circle">Independence is impeded by<ul id="702a18db-9efd-4cf4-bfad-73df4238a64c" class="bulleted-list"><li style="list-style-type:square">shared resource </li></ul><ul id="472942a6-a194-4933-9ae8-8762c3073302" class="bulleted-list"><li style="list-style-type:square">shared mutable data</li></ul></li></ul></li></ul><p id="a1b73fa0-4540-4ab5-9637-9984715b7cea" class="">
</p><h2 id="0a946e6a-347a-4ed3-b259-d60f73a6d3ee" class="">Replication</h2><ul id="745b72c3-69ad-421e-bfda-f45c4703b593" class="bulleted-list"><li style="list-style-type:disc">When the load on a system increases, we can increase the scalability of the system vertically or horizontally.</li></ul><ul id="617aab44-67a3-45c5-9bf2-6b35d13cd2d1" class="bulleted-list"><li style="list-style-type:disc">More instances of applications are created.</li></ul><ul id="5cd6c895-e66d-4178-80a2-7342974f78b3" class="bulleted-list"><li style="list-style-type:disc">Now user load can be shared.</li></ul><p id="b2a484a6-4dbf-4119-9cf5-8327f272767d" class="">
</p><h2 id="d32f438c-0bb3-4c68-88d9-f54a6c91c5e3" class="">Stateful replication in web applications</h2><ul id="60443b61-4354-48d6-a6b2-c6d688581081" class="bulleted-list"><li style="list-style-type:disc">Used when low latency is required</li></ul><ul id="6c4bcf3d-1d8d-4ae7-a640-e16032a64e25" class="bulleted-list"><li style="list-style-type:disc">When a user tries to access the profile page on a social media app. </li></ul><ul id="ff261b55-7ad2-4a8f-a1d7-3377ecfc058d" class="bulleted-list"><li style="list-style-type:disc">The request comes to the load balancer, which delegates the request to a server. The application will communicate with the service layer or worst case the database. Here there are multiple hops. </li></ul><ul id="4afa1209-5bb3-45c9-8571-de6861b77721" class="bulleted-list"><li style="list-style-type:disc">So in a stateful system, we can reduce these hops, by storing the user information in the memory of the server.</li></ul><ul id="b3a65d56-6033-4b19-9a61-805949872fff" class="bulleted-list"><li style="list-style-type:disc">When the first time request comes the server instance won’t have the data in its memory so it will ask the database. Before sending the response back, the server will store the data in its memory. So that any subsequent requests can be satisfied by the server and hops to the database are avoided.</li></ul><ul id="f096544a-2ece-4fa7-aa22-7afa35ac161a" class="bulleted-list"><li style="list-style-type:disc">Now if the same user’s request is delegated to some other server instance, it has to again repeat the steps to get the user info on its memory. </li></ul><ul id="ca266d92-673a-4730-9c6c-89ba1e583919" class="bulleted-list"><li style="list-style-type:disc">This can be avoided by using sticky sessions. When the data is saved in the instances memory, a session is created and a cookie which has details about the session id and instance id are sent to the client.</li></ul><ul id="e895a6a3-9cfd-4f38-aec6-c44db2d7bae3" class="bulleted-list"><li style="list-style-type:disc">A client can use this information to make subsequent requests.</li></ul><figure id="bc1111ae-29c0-41b2-b669-af5fb4b57c1b" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%204.png"><img style="width:528px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%204.png"/></a></figure><ul id="ed0c06bf-49ab-46c3-b632-c442275d2777" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red">Each session data occupies memory</mark></li></ul><ul id="1a24a908-f8f4-4ead-b9bd-1e8189bab7cf" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red">Session clustering for reliability</mark><figure id="f3007aea-753e-4e73-b781-f398f16b6ab8" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%205.png"><img style="width:768px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%205.png"/></a></figure><ul id="29cead0b-9532-46c0-a6f0-f5996c1b6059" class="bulleted-list"><li style="list-style-type:circle">What if Node 1 goes down? All session data stored in Node 1 are lost. </li></ul><ul id="363bbc74-1b14-4702-9334-a76997c2809b" class="bulleted-list"><li style="list-style-type:circle">There are ways in which you can mitigate this issue, by clustering the session data across the nodes. </li></ul><blockquote id="ae9ecbd4-cca0-4541-9dfd-ddd14db1f13d" class="">Is it really a good idea?</blockquote><p id="e8a0cf60-d8ac-42d6-b175-bebed65a2250" class="">
</p><h2 id="25b7a0a1-7c99-4c01-b351-80f257c4550b" class="">Stateless replication in web applications</h2><p id="ee9e8a65-0837-40da-b6a8-3f973709ce81" class="">In stateful applications, the limitation was we were being limited by the session memory of the instance. So we will now switch to a stateless approach.</p><p id="614b8e2c-7449-4bbb-b000-e79359e7fc4d" class="">How do we introduce some sort of statefulness in this? We can use caching to store the session data.</p><figure id="b019ea6d-0092-4b1f-b878-af21e51dff20" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%206.png"><img style="width:576px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%206.png"/></a></figure><p id="9cfb4e93-e72d-46eb-bebc-1b040a683c89" class="">We moved the in-memory session storage to a separate entity. It’s obisouly not faster than in-memory storage.</p><p id="c25815c1-cb07-4516-9aa1-a7c6dc0787f3" class="">
</p><h2 id="709203ee-ad6a-4d54-ac29-c953da26678a" class="">Database Replication</h2><p id="616e72b8-dd76-4203-a218-9a16fba032c6" class="">We can use separate databases to handle read and write load. </p><figure id="9906596e-c7a1-427a-8071-d3a3c637360f" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%207.png"><img style="width:192px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%207.png"/></a></figure><p id="d642cabe-a11c-4cd5-8c40-68321e71aa12" class="">
</p><ul id="8c12bc33-2d1c-4b9c-8a06-5a64cf42b0dc" class="bulleted-list"><li style="list-style-type:circle">Master Slave (Primary-Secondary)<ul id="69ec4e7b-34f5-4d7c-8fa0-64b445eaeaa4" class="bulleted-list"><li style="list-style-type:square">One master and a bunch of slaves</li></ul><ul id="12b5976e-9b3e-42fb-9368-9d0a3d3172dd" class="bulleted-list"><li style="list-style-type:square">Master/primary can serve both read and write</li></ul><ul id="93e0a8e6-ac92-470a-b41c-c7f1e12e8bdb" class="bulleted-list"><li style="list-style-type:square">Reads are exclusively handled by the slave/secondary</li></ul><figure id="9ce9120f-7da8-4c9b-8d05-08f8bd03e3b4" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%208.png"><img style="width:361px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%208.png"/></a></figure><ul id="1c458eab-f5da-4199-807d-23afdef51ee0" class="bulleted-list"><li style="list-style-type:square">Data replication is uni-directional</li></ul><ul id="db6c6dad-9543-487b-9416-9ffc70174fcd" class="bulleted-list"><li style="list-style-type:square">Any changes made in the master are eventually propagated to the slave<ul id="ae3d90dc-96bc-43f1-a2c9-60f50f0b7d04" class="bulleted-list"><li style="list-style-type:disc">This can be synchronous or asynchronous</li></ul></li></ul><ul id="e459966e-3a46-44a6-82df-30e30b1c5f95" class="bulleted-list"><li style="list-style-type:square">High read scalability</li></ul><ul id="28c6431c-0479-4ba9-ace0-85ff34dad116" class="bulleted-list"><li style="list-style-type:square">High read availability</li></ul><ul id="8b20d195-f7be-4fed-96cc-0185d9549de9" class="bulleted-list"><li style="list-style-type:square">No write conflicts</li></ul></li></ul><ul id="d2d7d6ca-2e5d-4552-94d0-ddc65b0fafa9" class="bulleted-list"><li style="list-style-type:circle">Master-Master (No-Master/ Peer to Peer)<ul id="8631bfbd-8423-4a61-ba99-422bca07227d" class="bulleted-list"><li style="list-style-type:square">A client can read/write on any database. </li></ul><ul id="8d51c5c5-7ff7-4dd1-ae3e-61907eb84762" class="bulleted-list"><li style="list-style-type:square">Any changes made to one database are propagated to the other database.</li></ul><figure id="88b318bb-59ea-49a0-bb4e-b0f8fac44a20" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%209.png"><img style="width:361px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%209.png"/></a></figure><ul id="0054a637-8170-440f-9ee4-5aed2361ae77" class="bulleted-list"><li style="list-style-type:square">There are chances of writing conflicts.<ul id="89281aab-8a7c-40e4-ae3d-f05e676b5116" class="bulleted-list"><li style="list-style-type:disc">Happens when both instances try to write to the same row.</li></ul></li></ul><ul id="8c38d17d-e253-42e1-9d42-cead3d474468" class="bulleted-list"><li style="list-style-type:square">High read scalability </li></ul><ul id="a8c64e7e-0548-4355-82c0-9daf887bb4d8" class="bulleted-list"><li style="list-style-type:square">High read write availability </li></ul><ul id="ebd950f5-5f76-461b-97e8-835fcfc56669" class="bulleted-list"><li style="list-style-type:square">Write conflicts</li></ul></li></ul><p id="61cea396-de70-45f4-ac73-4b4206bb5660" class="">
</p><h2 id="54355421-673d-4ef1-8e8d-98740c059a56" class="">Database Partitioning</h2><figure id="4f267c02-1a55-49b0-9d3d-df70710bc0fe" class="image"><a href="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%2010.png"><img style="width:672px" src="Scalability%20cb85e4be76f6441ca367f7ad78ec5361/Untitled%2010.png"/></a></figure><p id="e810b201-7f51-4b65-9c9e-7fa154000d76" class="">
</p></li></ul></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>