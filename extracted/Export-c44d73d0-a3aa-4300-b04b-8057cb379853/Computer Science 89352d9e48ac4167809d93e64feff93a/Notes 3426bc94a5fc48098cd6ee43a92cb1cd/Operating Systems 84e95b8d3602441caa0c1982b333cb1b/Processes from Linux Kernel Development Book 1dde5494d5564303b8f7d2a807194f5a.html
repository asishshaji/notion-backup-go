<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Processes from Linux Kernel Development Book</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="1dde5494-d556-4303-b8f7-d2a807194f5a" class="page mono"><header><h1 class="page-title">Processes from Linux Kernel Development Book</h1><p class="page-description"></p></header><div class="page-body"><figure id="2b580a17-4539-4d37-8680-81b23e1720c9"><a href="https://www.youtube.com/@oscaacademy5386" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">OSCA Academy</div><div class="bookmark-description">Education videos on operating system and computer architecture.</div></div><div class="bookmark-href"><img src="https://www.youtube.com/s/desktop/9e7f5697/img/favicon_144x144.png" class="icon bookmark-icon"/>https://www.youtube.com/@oscaacademy5386</div></div><img src="https://yt3.googleusercontent.com/ytc/APkrFKYiNamAnA0QArUm7nf2478txFw2jg1TpKpGCQ=s900-c-k-c0x00ffffff-no-rj" class="bookmark-image"/></a></figure><figure id="a422d3fd-54c9-4e8b-8233-a0b7c45859db"><a href="https://www.youtube.com/watch?v=hwTYDQ0zZOw" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">CPU Cores VS Threads Explained</div><div class="bookmark-description">Thanks for checking out my quick comparison between threads and cores! Leave any questions in the comments below!

Tech Products I use (A.K.A Max&#x27;s Tech): 
Headphones (Sony WH-1000XM4): https://amzn.to/3xIRwUW
Wireless Charger: https://amzn.to/3cDaL7Y
USB-C Cable: https://amzn.to/3039ssJ
External drive: https://amzn.to/2Ve6UbF

My Equipment:
Camera: https://amzn.to/3ijyWbs
Lights: https://amzn.to/2MvbbTn
Shotgun Mic: https://amzn.to/2X29fUe
Condenser Mic: https://amzn.to/329qGWN
Lavalier Mic: https://amzn.to/2OiLRNX
Gopro HERO 7 Black: https://amzn.to/3enSJ7t
Tripod Mic Stand: https://amzn.to/2MfDt40

My PC: 
https://docs.google.com/document/d/18p4TV2PUyZ5ap9TXS-6YPxR5b4PbbfEACq9KZJj-GQg/edit?usp=sharing

*The amazon affiliate links above give me a small percent kickback if you purchase with these links and help support the channel, thanks!</div></div><div class="bookmark-href"><img src="https://www.youtube.com/s/desktop/b7e9cd34/img/favicon_144x144.png" class="icon bookmark-icon"/>https://www.youtube.com/watch?v=hwTYDQ0zZOw</div></div><img src="https://i.ytimg.com/vi/hwTYDQ0zZOw/maxresdefault.jpg" class="bookmark-image"/></a></figure><figure id="785abe1e-522e-4a96-bbdd-d7af232568ab"><a href="https://www.youtube.com/watch?v=85T_ZaT8EUI" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">what&#x27;s the difference between processes, threads, and io multiplexing?</div></div><div class="bookmark-href"><img src="https://www.youtube.com/s/desktop/b7e9cd34/img/favicon_144x144.png" class="icon bookmark-icon"/>https://www.youtube.com/watch?v=85T_ZaT8EUI</div></div><img src="https://i.ytimg.com/vi/85T_ZaT8EUI/maxresdefault.jpg" class="bookmark-image"/></a></figure><p id="10d1a6a0-a310-4335-b5c6-f9e1f9f8a152" class=""><mark class="highlight-teal">The kernel schedules individual threads, not processes</mark>. Processes can have multiple threads. </p><p id="39c219b7-fa77-405b-9d64-7f750a9f4a94" class="">Linux doesn&#x27;t differentiate between threads and processes. <mark class="highlight-teal">To Linux, a thread is just a special kind of process.</mark></p><p id="5bba9015-9dcd-4bec-8a78-b9894d913ba2" class=""><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong>Another name for a process is a task. The Linux kernel internally refers to processes as tasks.</strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></p><p id="7ecaea89-0b8a-4b1b-bf97-5b58e0d6e152" class=""><em><strong>TCB - task_struct</strong></em></p><p id="f1ebf9ae-8dac-4417-9fe3-c2965b1acba6" class="">Linux uses kernel-level threading. </p><figure id="137aa1e0-c9b3-45a4-bf02-04576cbb6a37" class="image" style="text-align:left"><a href="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled.png"><img style="width:336px" src="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled.png"/></a></figure><hr id="dbaa8dff-fdbe-4a82-84c0-6ff20124ddd8"/><p id="7d68181c-46ff-46ea-8e19-eb74b92f5070" class="">The kernel stores the list of processes in a circular doubly linked list called the <strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em>task list</em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong>. Each element in the task list is a process descriptor of type <code><em>struct task_struct</em></code>. </p><p id="3b079121-9fff-41c1-9aad-d3c53cb67d40" class=""><code>task_struct</code> is a large struct, 1.7 KB on a 32-bit machine. Considering this struct contains all the information that the kernel has and needs about a process, the size is justifiable. </p><figure id="2a6be124-f17b-4770-a9a1-0672232aa344" class="image"><a href="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%201.png"><img style="width:384px" src="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%201.png"/></a></figure><p id="aeb07165-bff7-4161-9766-60c8cd9ff590" class="">
</p><h2 id="2b78127c-639d-464e-a9cd-d46f4d6eeec4" class="">Allocating the Process Descriptor</h2><p id="342104b1-6c19-4761-819c-55d241f24533" class="">The <code>task_struct</code> is allocated via the slab allocator to provide object reuse. Before the 2.6 kernel series, <code>task_struct</code> is stored at the end of the kernel stack of each process. </p><p id="4afa9b47-1da9-4f27-969a-9d7205e0e4d9" class="">Now the process descriptor is created dynamically via the slab allocator, <code>struct thread_info</code>, which also lives at the bottom of the stack(for stacks that grow down) and at the top of the stack(for stacks that grow up)</p><p id="c67ff90a-2831-4937-8384-e9d61f8831b5" class=""> </p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ed122f98-e55d-4af1-9e37-b9eac3aa7571" class="code"><code class="language-C">struct thread_info {
			struct task_struct *task;
			struct exec_domain *exec_domain;
			__u32 flags;
			__u32 status;
			__u32 cpu;
			int preempt_count;
			mm_segment_t addr_limit;
			struct restart_block restart_block;
			void *sysenter_return;
			int uaccess_err;
};</code></pre><figure id="7dba17e4-1835-4aa1-bbed-01fc9c382739" class="image"><a href="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%202.png"><img style="width:336px" src="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%202.png"/></a></figure><p id="84f6577e-1e7a-45fd-af98-981bd3ecd3b9" class="">Each task’s <code>thread_info </code>structure is allocated at the end of its stack. The task element of the structure is a pointer to the task’s actual <code>task_struct</code>.</p><p id="6741eb91-9cf0-44ee-b1c7-b3fd21d2eda9" class="">
</p><h2 id="c86785e9-2fdd-45b4-999e-ffcfc8ff5d72" class="">Storing the Process Descriptor</h2><p id="c0d81fce-a853-45aa-b63e-860ae7cc36a8" class="">Some architectures save a pointer to the <code>task_struct</code> of the currently running process in a register, enabling for efficient access. </p><p id="467c4605-feaa-4af9-ad61-8abebf4396a3" class="">Other architectures, make use of the fact that <code>struct thread_info</code> is stored on the kernel stack to calculate the location of <code>thread_info</code> and subsequently the <code>task_struct</code>.</p><hr id="80ca8fc3-2d33-4388-a742-346858563d2d"/><p id="2891d658-d7d4-4890-94ca-903d935753cb" class="">
</p><p id="067e49bc-53c3-476b-964b-1594d700230e" class="">All processes in linux are descendants of the <code>init </code>process which has PID 1. Every process has exactly one parent. The relationship is stored in the task_struct, which contains a pointer to the parent of the process and a list of children named <code>children</code>.</p><div id="a4d24a79-8a95-47c6-b5d7-a84b5a246d39" class="column-list"><div id="22598bd6-063c-431d-bae6-e5cbf274807e" style="width:31.25%" class="column"><figure id="31d8b8b0-c2a9-4989-873a-79fe890442b5" class="image"><a href="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%203.png"><img style="width:432px" src="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%203.png"/></a><figcaption>Getting the parent of a task</figcaption></figure></div><div id="c26ade65-d5cd-4c06-825e-37ad4bf6ac55" style="width:68.75%" class="column"><figure id="9efdbe95-63dc-4f6c-bf48-39ed85d97286" class="image"><a href="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%204.png"><img style="width:432px" src="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%204.png"/></a><figcaption>Iterating over the children of a task</figcaption></figure></div></div><h2 id="970786ef-1e93-455e-bac1-f00afd36a90a" class="">Process Creation</h2><p id="2314dc40-90de-499e-97a3-c140823bf04e" class=""><code>fork()</code> and <code>exec()</code>. </p><ul id="fcd0132b-2124-452d-90ff-0b31568c40d6" class="bulleted-list"><li style="list-style-type:disc">The fork creates a child process that is a copy of the current task.</li></ul><ul id="437165ca-a46b-4312-8f07-66a26063af0b" class="bulleted-list"><li style="list-style-type:disc">The exec loads a new executable into the address space and begins executing it. It’s often used after fork when you want to execute a different program within the child process. It loads the new program from the file system and initializes the code, data, and stack segments.</li></ul><p id="bd499df6-3857-48ca-b05a-5f170016a040" class="">
</p><p id="a5440b89-f019-45b3-832e-e6da1b6ebc9f" class="">
</p><h1 id="b125176e-1c65-4e9d-943a-553793ec4dbe" class="">The Linux Implementation of Threads</h1><p id="662c8756-cb94-4a05-abe5-9fc55c3e99d2" class="">On single-core machines threads enable concurrent programming and, on multiple processor systems, true parallelism.</p><p id="9d4dab97-c20d-419a-893a-f65f905ffd15" class="">Linux has a different approach when it comes to threads, Linux implements all threads as standard processes. The Linux kernel does not provide any special scheduling semantics or data structures to represent threads. Instead, a thread is merely a process that shares certain resources with other processes. </p><p id="32b9ae38-0600-4082-b455-677ac17cd0eb" class="">Each thread has a unique <code>task_struct</code> and appears to the kernel as a normal process - threads just happen to share resources, such as an address space, with other processes. </p><p id="952154cc-6cee-4dd7-9ccf-7d094ef51520" class="">
</p><h2 id="c21b1ddb-6484-46e2-a724-b48a9e253661" class="">Kernel Threads</h2><p id="3bece053-0919-460a-8034-f2f74d05f5c9" class="">It is useful for the kernel to perform some operations in the background. The main difference with a user-space thread is that a kernel space thread doesn&#x27;t have an address space. </p><p id="7e62858e-da6a-4049-b4a7-6fe0480c0f87" class="">Linux delegates several tasks to kernel threads, most notably the flush tasks and ksoftirqd task. </p><p id="26976941-655e-4354-991f-a4b2590f938b" class="">Kernel threads are created on system boot by other kernel threads. A kernel thread can be created only by another kernel thread.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="906e9742-b4a5-4468-af13-b36254247087" class="code"><code class="language-Shell">ps -ef // lists all the kernel threads</code></pre><p id="2b1cd40a-07ac-4936-a70f-56137fce4874" class="">The kernel handles this by forking all new kernel threads off of the kthreadd kernel process.</p><p id="e515cbfd-4c07-43f5-ab7a-eb92d73d42fb" class="">
</p><hr id="bc333860-81f1-4167-a5f8-b01bd76aada6"/><hr id="1305888a-3d37-451c-be22-b557d6a2757e"/><p id="5b47ebd9-4269-4522-a885-b36366d707ad" class="">
</p><h1 id="3a799629-3a70-4c8e-b9a7-2cf45cbc3c31" class="">Process Scheduling</h1><p id="8c0f785c-b0f3-499e-9548-e7319a77fc3f" class=""><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong>Preemptive Scheduling</strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em>: The scheduler decides when a process is to stop running and a new process is to begin running. The act of involuntarily suspending a running process is called <em><em><em><em><em><em><em><em><em><em>preemption. </em></em></em></em></em></em></em></em></em></em>Runs for a timeslice, it prevents a process from monopolizing the processor. In modern systems, the time slice is calculated dynamically.</p><p id="8604a7fc-7d3c-4dce-98d1-383ea4464b93" class=""><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Cooperative Scheduling: </strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>The process doesn&#x27;t stop running until it voluntarily decides to do so.- The process needs to decide when to stop. The scheduler doesn&#x27;t make the decisions here. Processes can monopolize the processor.</p><p id="62282e68-6f27-4c3b-a32f-dec1c6c5536a" class="">
</p><p id="4a5ceb43-0e2b-4574-8c1d-203f88189be2" class="">Most of the OSs use <em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong><em><strong>Preemptive Scheduling </strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em></strong></em>for obvious reasons. </p><p id="e4533d7a-ff08-4232-89ef-41a37aab84c2" class="">
</p><hr id="dfb0bb26-b8d5-44d5-8cfb-5cf2ad15406b"/><p id="eda2045d-0b86-4052-883b-7b22300dcb6f" class=""><a href="https://medium.com/geekculture/linux-cpu-context-switch-deep-dive-764bfdae4f01#:~:text=%E2%80%9CCPU%20context%20switching%E2%80%9D%20is%20to,to%20by%20the%20program%20counter">https://medium.com/geekculture/linux-cpu-context-switch-deep-dive-764bfdae4f01#:~:text=“CPU context switching” is to,to by the program counter</a>.</p><div id="4bdc4888-5fae-4c04-94d3-e95572e1f43b" class="column-list"><div id="e0fa54a9-3bd8-46d1-ae48-7b12d77e82ce" style="width:50%" class="column"><figure id="62a9d927-4ce9-4ebc-9c6c-79e92940137e" class="image"><a href="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%205.png"><img style="width:816px" src="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%205.png"/></a></figure></div><div id="969b73bd-db08-4b5e-ae62-6049e712f643" style="width:50%" class="column"><figure id="390d2d6d-08f8-4155-9ea7-701b77bd713a" class="image"><a href="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%206.png"><img style="width:1056px" src="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%206.png"/></a></figure></div></div><figure id="9e386b68-e008-4485-aaa2-9d3899b2c507" class="image"><a href="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%207.png"><img style="width:1104px" src="Processes%20from%20Linux%20Kernel%20Development%20Book%201dde5494d5564303b8f7d2a807194f5a/Untitled%207.png"/></a></figure><p id="4540ccca-e814-4827-be90-0912daf854c9" class="">
</p><hr id="417bb1d2-80dc-4b87-9ff3-f280ef3fd541"/><p id="e40814c6-68df-470e-8d7f-e6b9d0fa928a" class="">
</p><p id="efdc57d7-9500-48f9-8aa4-6bae5b884874" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>